!function e(n,t,r){function o(u,c){if(!t[u]){if(!n[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=t[u]={exports:{}};n[u][0].call(f.exports,function(e){var t=n[u][1][e];return o(t?t:e)},f,f.exports,e,n,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();+function(e){var n=function(){function n(e){var t=this;r(this,n),this.$el=e,this.$el.unbind().on("click",function(){return t.showPopup()})}return o(n,[{key:"showPopup",value:function(){var n=this;this.$el.on("show.oc.popup",function(t){var r=e(t.relatedTarget),o=r.find("form"),i=r.find('[data-control="tree"]'),u=r.find('[data-control="loading-indicator"]');i.css("height",i.height()),o.on("submit",function(t){t.preventDefault(),u.show(),o.request("treesort::onUpdateTree",{data:{subjects:n.getTreeData(i)},success:function(n){this.success(n).done(function(){r.trigger("close.oc.popup"),e(document).trigger("render")})},error:function(n){this.error(n).done(function(){console.log(n),e.oc.flashMsg({interval:5,"class":"error",text:n.responseJSON.result})})},complete:function(){u.hide()}})})}),this.$el.popup({handler:"treesort::onShowPopup"})}},{key:"getTreeData",value:function(n){var t=[];return n.find("li").each(function(){t.push(e(this).data("id"))}),t}}]),n}();e.fn.Treesort=function(){return new n(this)},e(document).on("render",function(){e('[data-widget="treesort"]').Treesort()})}(window.jQuery)},{}]},{},[1]);
//# sourceMappingURL=treesort.min.js.map
